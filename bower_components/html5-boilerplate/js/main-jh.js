/* **********************************************
     Begin task_component.js
********************************************** */var Task=function(){var e=0,t=function(){return"task_"+(e+=1).toString(10)};return function(e){var n={body:e,id:t(),finished:!1},r=function(){var e=$("#task-template").html(),t=Handlebars.compile(e);return t(n)},i=$($.parseHTML(r())),s=i.find("input[type=checkbox]"),o=i.find("input[type=text]"),u=i.find(".task_controls"),a=i.find(".task_edit_controls"),f=i.find(".btn_edit"),l=i.find(".btn_save"),c=i.find(".btn_cancel");f.on("click",function(){a.removeClass("hide");f.addClass("hide");o.attr("disabled",!1).focus()});c.on("click",function(){a.addClass("hide");f.removeClass("hide");o.attr("disabled",!0).val(n.body)});l.on("click",function(){n.body=o.val();a.addClass("hide");f.removeClass("hide");o.attr("disabled",!0).val(n.body)});s.on("change",function(){n.finished=s.prop("checked")});return{finished:n.finished,render:i}}}();$("#new_task_editor").find("form").on("submit",function(e){e.preventDefault();var t=$(this).find("#new_task"),n=new Task(t.val());$(n.render).prependTo(".list");t.val("")});$("#remove_finshed_tasks").on("click",function(){$("input:checked").parent().remove()});